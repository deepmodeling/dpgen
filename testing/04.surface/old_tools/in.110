clear
units		metal
dimension	3
boundary	p p p

atom_style	atomic
variable	latparam1	equal 4.041
variable	xdim		equal ${latparam1}*sqrt(2)/2*4-0.01
variable	ydim		equal ${latparam1}*sqrt(1)/1*4-0.01
variable	zdim		equal ${latparam1}*sqrt(2)/2*12-0.01
variable	hzdim		equal ${latparam1}*sqrt(2)/2*6-0.01

# --------------------- ATOM DEFINITION ---------------------
lattice		fcc ${latparam1}
region		1 block -0.01 ${xdim} -0.01 ${ydim} -0.01 ${hzdim} units box
region		whole block -0.01 ${xdim} -0.01 ${ydim} -0.01 ${zdim} units box
create_box	1 whole
lattice		fcc ${latparam1} orient x 1 -1 0 orient y 0 0 -1 orient z 1 1 0
create_atoms	1 region whole
mass		1 27
group		1 region 1
neigh_modify	every 1 delay 0 check no

# ----------------------- FORCE FIELDS -----------------------
include		potential.mod
# ------------------------- before disp -----------------------
compute		mype all pe
thermo		1
thermo_style	custom step pe pxx pyy pzz lx ly lz c_mype
dump		1 all custom 100 dump.surf id type xs ys zs fx fy fz

fix		1 all box/relax  aniso 0.0 
min_style	cg
minimize	1e-10 1e-10 100 100

run		0
variable	E equal "c_mype"
variable	Eo equal ${E}*0.5
print "Initial energy of atoms = ${Eo} eV"

delete_atoms	group 1

fix		1 all box/relax aniso 0.0 
min_style	cg
minimize	1e-10 1e-10 500 500

run		0
variable	Ef equal "c_mype"
variable	Cf equal 1.60217657e-16
variable	A equal (${xdim}*${ydim})*1e-20*2
variable	SFE equal ((${Ef}-${Eo})*${Cf})/${A}

print "All done"
print "Initial energy of atoms = ${Eo} eV"
print "Final energy of atoms = ${Ef} eV"
print "Surface 110 energy = ${SFE} mJ/m^2"


